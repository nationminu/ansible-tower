# ANSIBLE VAULT

> 번수 및 파일을 암호화 하는데 사용.
   
## 1. Vault password

> vault password 는 ansible vault 에서 암복호화를 하기위한 key 값이다.

### 1. Prompt

> **--ask-vault-pass** : 암복호화 또는 playbook 실행시 매번 prompt로 입력 받는다.

- user.yaml 생성
```bash
ansible-vault create user.yaml --ask-vault-pass
New Vault password: 
Confirm New Vault password: 
```
- editor 로 사용자 정보 입력 
```yaml
---
username: admin
password: P@ssW0rd
...
```
- user.yaml 암호화 확인
```bash
cat user.yaml
$ANSIBLE_VAULT;1.1;AES256
31323934653362363830306533666332323461383534623237633563653333653134306333313065
6136376233316437366237383235613362613938303838370a656162373062643737356139343831
61343331386136303834633665353038626339303335383032303364346264393438643531663131
6166316261343838620a343834313930333838333361383761316434323639666666653866656563
34646663646532383035626232376535363534336464636639366533303838383264323963626538
6331653731636633346661323339663035343062343462616436
```


### 2. File

> **--vault-id / --vault-password-file** : 암복호화 또는 playbook 실행시 파일의 내용을 사용한다.

- vault password file 생성
```bash
echo "Super P@wer P@ssW0rd V0ult" > user.vault
```
- guest.yaml 생성
```bash
ansible-vault create guest.yaml  --vault-password-file user.vault
...
```
- editor 로 사용자 정보 입력 
```yaml
---
username: guest
password: P@ssW0rd
...
```
- guest.yaml 암호화 확인
```bash
cat guest.yaml
$ANSIBLE_VAULT;1.1;AES256
35313366333930316566303461623266663335313662636535333862616534666239613831366637
3062376664323136313630313930393266633262666139330a336235326434636431333431373362
38653130313539616465643833633736653032613037646364333332373764656433363966303131
6334613137373464390a336263393238326134633137376230323762383931653235333635306637
32306630623862613233313366383633393032383962623930616133623263306665616166626631
3335653539386331663337633364343330333731653530653465
```


## 2. Variable Encrytion

### 1. Encription

### 2. Decription


## 3. File Encryption


### 1. Encription

### 2. Decription



> **:link: Referer** : 
> https://docs.ansible.com/ansible/latest/user_guide/vault.html
